[libprotobuf WARNING google/protobuf/io/coded_stream.cc:604] Reading dangerously large protocol message.  If the message turns out to be larger than 2147483647 bytes, parsing will be halted for security reasons.  To increase the limit (or to disable these warnings), see CodedInputStream::SetTotalBytesLimit() in google/protobuf/io/coded_stream.h.
[libprotobuf WARNING google/protobuf/io/coded_stream.cc:81] The total number of bytes read was 782700675
[libprotobuf WARNING google/protobuf/io/coded_stream.cc:604] Reading dangerously large protocol message.  If the message turns out to be larger than 2147483647 bytes, parsing will be halted for security reasons.  To increase the limit (or to disable these warnings), see CodedInputStream::SetTotalBytesLimit() in google/protobuf/io/coded_stream.h.
[libprotobuf WARNING google/protobuf/io/coded_stream.cc:81] The total number of bytes read was 782700675
2023-05-01 04:01:36.416258069 [W:onnxruntime:Default, tensorrt_execution_provider.h:75 log] [2023-05-01 04:01:36 WARNING] onnx2trt_utils.cpp:374: Your ONNX model has been generated with INT64 weights, while TensorRT does not natively support INT64. Attempting to cast down to INT32.
[libprotobuf WARNING google/protobuf/io/coded_stream.cc:604] Reading dangerously large protocol message.  If the message turns out to be larger than 2147483647 bytes, parsing will be halted for security reasons.  To increase the limit (or to disable these warnings), see CodedInputStream::SetTotalBytesLimit() in google/protobuf/io/coded_stream.h.
[libprotobuf WARNING google/protobuf/io/coded_stream.cc:81] The total number of bytes read was 782730040
2023-05-01 04:01:42.668063547 [W:onnxruntime:Default, tensorrt_execution_provider.h:75 log] [2023-05-01 04:01:42 WARNING] onnx2trt_utils.cpp:374: Your ONNX model has been generated with INT64 weights, while TensorRT does not natively support INT64. Attempting to cast down to INT32.
[libprotobuf WARNING google/protobuf/io/coded_stream.cc:604] Reading dangerously large protocol message.  If the message turns out to be larger than 2147483647 bytes, parsing will be halted for security reasons.  To increase the limit (or to disable these warnings), see CodedInputStream::SetTotalBytesLimit() in google/protobuf/io/coded_stream.h.
[libprotobuf WARNING google/protobuf/io/coded_stream.cc:81] The total number of bytes read was 1733505208
[libprotobuf WARNING google/protobuf/io/coded_stream.cc:604] Reading dangerously large protocol message.  If the message turns out to be larger than 2147483647 bytes, parsing will be halted for security reasons.  To increase the limit (or to disable these warnings), see CodedInputStream::SetTotalBytesLimit() in google/protobuf/io/coded_stream.h.
[libprotobuf WARNING google/protobuf/io/coded_stream.cc:81] The total number of bytes read was 1733505208
2023-05-01 04:01:46.707421004 [W:onnxruntime:Default, tensorrt_execution_provider.h:75 log] [2023-05-01 04:01:46 WARNING] onnx2trt_utils.cpp:374: Your ONNX model has been generated with INT64 weights, while TensorRT does not natively support INT64. Attempting to cast down to INT32.
2023-05-01 04:01:46.707496565 [W:onnxruntime:Default, tensorrt_execution_provider.h:75 log] [2023-05-01 04:01:46 WARNING] onnx2trt_utils.cpp:400: One or more weights outside the range of INT32 was clamped
[libprotobuf WARNING google/protobuf/io/coded_stream.cc:604] Reading dangerously large protocol message.  If the message turns out to be larger than 2147483647 bytes, parsing will be halted for security reasons.  To increase the limit (or to disable these warnings), see CodedInputStream::SetTotalBytesLimit() in google/protobuf/io/coded_stream.h.
[libprotobuf WARNING google/protobuf/io/coded_stream.cc:81] The total number of bytes read was 1733568820
2023-05-01 04:01:47.928549544 [W:onnxruntime:Default, tensorrt_execution_provider.h:75 log] [2023-05-01 04:01:47 WARNING] onnx2trt_utils.cpp:374: Your ONNX model has been generated with INT64 weights, while TensorRT does not natively support INT64. Attempting to cast down to INT32.
2023-05-01 04:01:47.928620225 [W:onnxruntime:Default, tensorrt_execution_provider.h:75 log] [2023-05-01 04:01:47 WARNING] onnx2trt_utils.cpp:400: One or more weights outside the range of INT32 was clamped
2023-05-01 04:01:49.564227126 [W:onnxruntime:Default, tensorrt_execution_provider.h:75 log] [2023-05-01 04:01:49 WARNING] onnx2trt_utils.cpp:374: Your ONNX model has been generated with INT64 weights, while TensorRT does not natively support INT64. Attempting to cast down to INT32.
2023-05-01 04:01:49.623185648 [W:onnxruntime:Default, tensorrt_execution_provider.h:75 log] [2023-05-01 04:01:49 WARNING] onnx2trt_utils.cpp:374: Your ONNX model has been generated with INT64 weights, while TensorRT does not natively support INT64. Attempting to cast down to INT32.
Namespace(prompt=['a beautiful photograph of Mt. Fuji during cherry blossom'], batch_size=1, height=512, width=512, num_warmup_runs=5, denoising_steps=50, seed=0, onnx_dir='./onnx', device='cuda', tokenizer=CLIPTokenizer(name_or_path='openai/clip-vit-large-patch14', vocab_size=49408, model_max_length=77, is_fast=False, padding_side='right', truncation_side='right', special_tokens={'bos_token': AddedToken("<|startoftext|>", rstrip=False, lstrip=False, single_word=False, normalized=True), 'eos_token': AddedToken("<|endoftext|>", rstrip=False, lstrip=False, single_word=False, normalized=True), 'unk_token': AddedToken("<|endoftext|>", rstrip=False, lstrip=False, single_word=False, normalized=True), 'pad_token': '<|endoftext|>'}, clean_up_tokenization_spaces=True), scheduler=<utilities.LMSDiscreteScheduler object at 0x7fb070119fc0>, io_binding=False, denoising_prec='fp16', num_images=1, negative_prompt=[''], guidance_scale=7.5, output_dir='./output', disable_dynamic_batch=False, dynamic_image_size=False)
Loading CLIP model.
CLIP provider options {'trt_engine_cache_path': './onnx/clip_engine_1_16', 'trt_profile_min_shapes': 'input_ids:1x77', 'trt_profile_max_shapes': 'input_ids:16x77', 'trt_profile_opt_shapes': 'input_ids:1x77', 'trt_max_workspace_size': 4294967296, 'device_id': 0, 'trt_fp16_enable': True, 'trt_engine_cache_enable': True, 'trt_timing_cache_enable': True, 'trt_detailed_build_log': True}
Loading UNet model.
UNet provider options {'trt_engine_cache_path': './onnx/unet_engine_B1_16_H64_W64', 'trt_profile_min_shapes': 'sample:2x4x64x64,encoder_hidden_states:2x77x1024,timestep:1', 'trt_profile_max_shapes': 'sample:32x4x64x64,encoder_hidden_states:32x77x1024,timestep:1', 'trt_profile_opt_shapes': 'sample:2x4x64x64,encoder_hidden_states:2x77x1024,timestep:1', 'trt_max_workspace_size': 21474836480, 'device_id': 0, 'trt_fp16_enable': True, 'trt_engine_cache_enable': True, 'trt_timing_cache_enable': True, 'trt_detailed_build_log': True}
VAE provider options {'trt_engine_cache_path': './onnx/vae_engine_B1_16_H64_W64', 'trt_profile_min_shapes': 'latent:1x4x64x64', 'trt_profile_max_shapes': 'latent:16x4x64x64', 'trt_profile_opt_shapes': 'latent:1x4x64x64', 'trt_max_workspace_size': 21474836480, 'device_id': 0, 'trt_fp16_enable': True, 'trt_engine_cache_enable': True, 'trt_timing_cache_enable': True, 'trt_detailed_build_log': True}
Loading VAE model.
Warming up pipeline.
  0%|          | 0/5 [00:00<?, ?it/s]
  0%|          | 0/50 [00:00<?, ?it/s][A
 10%|â–ˆ         | 5/50 [00:00<00:00, 46.36it/s][A
 20%|â–ˆâ–ˆ        | 10/50 [00:00<00:00, 47.85it/s][A
 32%|â–ˆâ–ˆâ–ˆâ–      | 16/50 [00:00<00:00, 50.76it/s][A
 44%|â–ˆâ–ˆâ–ˆâ–ˆâ–     | 22/50 [00:00<00:00, 52.22it/s][A
 56%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ    | 28/50 [00:00<00:00, 51.88it/s][A
 68%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Š   | 34/50 [00:00<00:00, 52.72it/s][A
 80%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  | 40/50 [00:00<00:00, 53.25it/s][A
 92%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–| 46/50 [00:00<00:00, 53.60it/s][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 50/50 [00:00<00:00, 52.45it/s]
 20%|â–ˆâ–ˆ        | 1/5 [00:01<00:04,  1.14s/it]
  0%|          | 0/50 [00:00<?, ?it/s][A
 12%|â–ˆâ–        | 6/50 [00:00<00:00, 53.94it/s][A
 24%|â–ˆâ–ˆâ–       | 12/50 [00:00<00:00, 54.02it/s][A
 36%|â–ˆâ–ˆâ–ˆâ–Œ      | 18/50 [00:00<00:00, 54.07it/s][A
 48%|â–ˆâ–ˆâ–ˆâ–ˆâ–Š     | 24/50 [00:00<00:00, 54.16it/s][A
 60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 30/50 [00:00<00:00, 54.21it/s][A
 72%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–  | 36/50 [00:00<00:00, 54.16it/s][A
 84%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ– | 42/50 [00:00<00:00, 53.94it/s][A
 96%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ| 48/50 [00:00<00:00, 54.01it/s][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 50/50 [00:00<00:00, 54.04it/s]
 40%|â–ˆâ–ˆâ–ˆâ–ˆ      | 2/5 [00:02<00:03,  1.10s/it]
  0%|          | 0/50 [00:00<?, ?it/s][A
 12%|â–ˆâ–        | 6/50 [00:00<00:00, 54.12it/s][A
 24%|â–ˆâ–ˆâ–       | 12/50 [00:00<00:00, 54.18it/s][A
 36%|â–ˆâ–ˆâ–ˆâ–Œ      | 18/50 [00:00<00:00, 54.19it/s][A
 48%|â–ˆâ–ˆâ–ˆâ–ˆâ–Š     | 24/50 [00:00<00:00, 54.06it/s][A
 60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 30/50 [00:00<00:00, 53.22it/s][A
 72%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–  | 36/50 [00:00<00:00, 53.58it/s][A
 84%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ– | 42/50 [00:00<00:00, 53.83it/s][A
 96%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ| 48/50 [00:00<00:00, 53.57it/s][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 50/50 [00:00<00:00, 53.72it/s]
 60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 3/5 [00:03<00:02,  1.09s/it]
  0%|          | 0/50 [00:00<?, ?it/s][A
 12%|â–ˆâ–        | 6/50 [00:00<00:00, 53.91it/s][A
 24%|â–ˆâ–ˆâ–       | 12/50 [00:00<00:00, 54.11it/s][A
 36%|â–ˆâ–ˆâ–ˆâ–Œ      | 18/50 [00:00<00:00, 54.19it/s][A
 48%|â–ˆâ–ˆâ–ˆâ–ˆâ–Š     | 24/50 [00:00<00:00, 54.04it/s][A
 60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 30/50 [00:00<00:00, 54.13it/s][A
 72%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–  | 36/50 [00:00<00:00, 54.19it/s][A
 84%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ– | 42/50 [00:00<00:00, 54.20it/s][A
 96%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ| 48/50 [00:00<00:00, 54.20it/s][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 50/50 [00:00<00:00, 54.11it/s]
 80%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  | 4/5 [00:04<00:01,  1.08s/it]
  0%|          | 0/50 [00:00<?, ?it/s][A
 12%|â–ˆâ–        | 6/50 [00:00<00:00, 54.08it/s][A
 24%|â–ˆâ–ˆâ–       | 12/50 [00:00<00:00, 54.02it/s][A
 36%|â–ˆâ–ˆâ–ˆâ–Œ      | 18/50 [00:00<00:00, 54.14it/s][A
 48%|â–ˆâ–ˆâ–ˆâ–ˆâ–Š     | 24/50 [00:00<00:00, 54.20it/s][A
 60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 30/50 [00:00<00:00, 54.21it/s][A
 72%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–  | 36/50 [00:00<00:00, 54.23it/s][A
 84%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ– | 42/50 [00:00<00:00, 54.25it/s][A
 96%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ| 48/50 [00:00<00:00, 54.27it/s][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 50/50 [00:00<00:00, 54.21it/s]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 5/5 [00:05<00:00,  1.06s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 5/5 [00:05<00:00,  1.08s/it]
  0%|          | 0/50 [00:00<?, ?it/s] 12%|â–ˆâ–        | 6/50 [00:00<00:00, 54.19it/s] 24%|â–ˆâ–ˆâ–       | 12/50 [00:00<00:00, 54.25it/s] 36%|â–ˆâ–ˆâ–ˆâ–Œ      | 18/50 [00:00<00:00, 54.28it/s] 48%|â–ˆâ–ˆâ–ˆâ–ˆâ–Š     | 24/50 [00:00<00:00, 54.31it/s] 60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 30/50 [00:00<00:00, 54.32it/s] 72%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–  | 36/50 [00:00<00:00, 54.32it/s] 84%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ– | 42/50 [00:00<00:00, 54.33it/s] 96%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ| 48/50 [00:00<00:00, 54.34it/s]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 50/50 [00:00<00:00, 54.30it/s]
|------------|--------------|
|   Module   |   Latency    |
|------------|--------------|
|    CLIP    |      8.35 ms |
| UNet x 50  |    921.18 ms |
|    VAE     |     24.96 ms |
|------------|--------------|
|  Pipeline  |       0.95 s |
|------------|--------------|
Saving image 1 / 1 to: ./output/sd-fp16-a_beautifu-1-3243.png

Batch size = 1

Measuring latency.
  0%|          | 0/50 [00:00<?, ?it/s] 12%|â–ˆâ–        | 6/50 [00:00<00:00, 54.13it/s] 24%|â–ˆâ–ˆâ–       | 12/50 [00:00<00:00, 54.23it/s] 36%|â–ˆâ–ˆâ–ˆâ–Œ      | 18/50 [00:00<00:00, 54.24it/s] 48%|â–ˆâ–ˆâ–ˆâ–ˆâ–Š     | 24/50 [00:00<00:00, 54.27it/s] 60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 30/50 [00:00<00:00, 54.28it/s] 72%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–  | 36/50 [00:00<00:00, 54.30it/s] 84%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ– | 42/50 [00:00<00:00, 54.31it/s] 96%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ| 48/50 [00:00<00:00, 54.01it/s]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 50/50 [00:00<00:00, 54.16it/s]
|------------|--------------|
|   Module   |   Latency    |
|------------|--------------|
|    CLIP    |     99.02 ms |
| UNet x 50  |    923.68 ms |
|    VAE     |     35.69 ms |
|------------|--------------|
|  Pipeline  |       1.06 s |
|------------|--------------|
Saving image 1 / 1 to: ./output/sd-fp16-a_beautifu-1-2582.png
Measuring memory usage. Ignore any latency metrics or any images saved.
  0%|          | 0/50 [00:00<?, ?it/s] 12%|â–ˆâ–        | 6/50 [00:00<00:00, 54.22it/s] 24%|â–ˆâ–ˆâ–       | 12/50 [00:00<00:00, 54.23it/s] 36%|â–ˆâ–ˆâ–ˆâ–Œ      | 18/50 [00:00<00:00, 54.24it/s] 48%|â–ˆâ–ˆâ–ˆâ–ˆâ–Š     | 24/50 [00:00<00:00, 54.27it/s] 60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 30/50 [00:00<00:00, 54.31it/s] 72%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–  | 36/50 [00:00<00:00, 54.33it/s] 84%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ– | 42/50 [00:00<00:00, 54.29it/s] 96%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ| 48/50 [00:00<00:00, 54.31it/s]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 50/50 [00:00<00:00, 54.28it/s]
|------------|--------------|
|   Module   |   Latency    |
|------------|--------------|
|    CLIP    |     17.98 ms |
| UNet x 50  |    921.72 ms |
|    VAE     |     26.08 ms |
|------------|--------------|
|  Pipeline  |       0.97 s |
|------------|--------------|
Saving image 1 / 1 to: ./output/sd-fp16-a_beautifu-1-6485.png
GPU memory usage: before=[{'device_id': 0, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 18767.875}, {'device_id': 1, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 590.5}, {'device_id': 2, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 590.5}, {'device_id': 3, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 590.5}, {'device_id': 4, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 590.5}, {'device_id': 5, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 590.5}, {'device_id': 6, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 590.5}, {'device_id': 7, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 590.5}]  peak=[{'device_id': 0, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 18767.875}, {'device_id': 1, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 590.5}, {'device_id': 2, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 590.5}, {'device_id': 3, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 590.5}, {'device_id': 4, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 590.5}, {'device_id': 5, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 590.5}, {'device_id': 6, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 590.5}, {'device_id': 7, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 590.5}]
Measured memory usage.

Batch size = 4

Measuring latency.
  0%|          | 0/50 [00:00<?, ?it/s]  4%|â–         | 2/50 [00:00<00:02, 16.39it/s]  8%|â–Š         | 4/50 [00:00<00:02, 16.53it/s] 12%|â–ˆâ–        | 6/50 [00:00<00:02, 16.60it/s] 16%|â–ˆâ–Œ        | 8/50 [00:00<00:02, 16.63it/s] 20%|â–ˆâ–ˆ        | 10/50 [00:00<00:02, 16.66it/s] 24%|â–ˆâ–ˆâ–       | 12/50 [00:00<00:02, 16.68it/s] 28%|â–ˆâ–ˆâ–Š       | 14/50 [00:00<00:02, 16.66it/s] 32%|â–ˆâ–ˆâ–ˆâ–      | 16/50 [00:00<00:02, 16.68it/s] 36%|â–ˆâ–ˆâ–ˆâ–Œ      | 18/50 [00:01<00:01, 16.66it/s] 40%|â–ˆâ–ˆâ–ˆâ–ˆ      | 20/50 [00:01<00:01, 16.60it/s] 44%|â–ˆâ–ˆâ–ˆâ–ˆâ–     | 22/50 [00:01<00:01, 16.61it/s] 48%|â–ˆâ–ˆâ–ˆâ–ˆâ–Š     | 24/50 [00:01<00:01, 16.62it/s] 52%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–    | 26/50 [00:01<00:01, 16.63it/s] 56%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ    | 28/50 [00:01<00:01, 16.64it/s] 60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 30/50 [00:01<00:01, 16.65it/s] 64%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–   | 32/50 [00:01<00:01, 16.65it/s] 68%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Š   | 34/50 [00:02<00:00, 16.66it/s] 72%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–  | 36/50 [00:02<00:00, 16.66it/s] 76%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ  | 38/50 [00:02<00:00, 16.66it/s] 80%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  | 40/50 [00:02<00:00, 16.64it/s] 84%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ– | 42/50 [00:02<00:00, 16.65it/s] 88%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Š | 44/50 [00:02<00:00, 16.66it/s] 92%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–| 46/50 [00:02<00:00, 16.68it/s] 96%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ| 48/50 [00:02<00:00, 16.67it/s]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 50/50 [00:03<00:00, 16.66it/s]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 50/50 [00:03<00:00, 16.64it/s]
|------------|--------------|
|   Module   |   Latency    |
|------------|--------------|
|    CLIP    |    109.14 ms |
| UNet x 50  |   3004.75 ms |
|    VAE     |    103.11 ms |
|------------|--------------|
|  Pipeline  |       3.22 s |
|------------|--------------|
Saving image 1 / 4 to: ./output/sd-fp16-a_beautifu-1-4257.png
Saving image 2 / 4 to: ./output/sd-fp16-a_beautifu-2-1418.png
Saving image 3 / 4 to: ./output/sd-fp16-a_beautifu-3-2421.png
Saving image 4 / 4 to: ./output/sd-fp16-a_beautifu-4-3720.png
Measuring memory usage. Ignore any latency metrics or any images saved.
  0%|          | 0/50 [00:00<?, ?it/s]  4%|â–         | 2/50 [00:00<00:03, 15.43it/s]  8%|â–Š         | 4/50 [00:00<00:02, 16.20it/s] 12%|â–ˆâ–        | 6/50 [00:00<00:02, 16.42it/s] 16%|â–ˆâ–Œ        | 8/50 [00:00<00:02, 16.53it/s] 20%|â–ˆâ–ˆ        | 10/50 [00:00<00:02, 16.60it/s] 24%|â–ˆâ–ˆâ–       | 12/50 [00:00<00:02, 16.63it/s] 28%|â–ˆâ–ˆâ–Š       | 14/50 [00:00<00:02, 16.65it/s] 32%|â–ˆâ–ˆâ–ˆâ–      | 16/50 [00:00<00:02, 16.67it/s] 36%|â–ˆâ–ˆâ–ˆâ–Œ      | 18/50 [00:01<00:01, 16.65it/s] 40%|â–ˆâ–ˆâ–ˆâ–ˆ      | 20/50 [00:01<00:01, 16.66it/s] 44%|â–ˆâ–ˆâ–ˆâ–ˆâ–     | 22/50 [00:01<00:01, 16.68it/s] 48%|â–ˆâ–ˆâ–ˆâ–ˆâ–Š     | 24/50 [00:01<00:01, 16.67it/s] 52%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–    | 26/50 [00:01<00:01, 16.69it/s] 56%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ    | 28/50 [00:01<00:01, 16.71it/s] 60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 30/50 [00:01<00:01, 16.72it/s] 64%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–   | 32/50 [00:01<00:01, 16.72it/s] 68%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Š   | 34/50 [00:02<00:00, 16.70it/s] 72%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–  | 36/50 [00:02<00:00, 16.68it/s] 76%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ  | 38/50 [00:02<00:00, 16.65it/s] 80%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  | 40/50 [00:02<00:00, 16.66it/s] 84%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ– | 42/50 [00:02<00:00, 16.67it/s] 88%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Š | 44/50 [00:02<00:00, 16.68it/s] 92%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–| 46/50 [00:02<00:00, 16.68it/s] 96%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ| 48/50 [00:02<00:00, 16.68it/s]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 50/50 [00:03<00:00, 16.69it/s]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 50/50 [00:03<00:00, 16.64it/s]
|------------|--------------|
|   Module   |   Latency    |
|------------|--------------|
|    CLIP    |     23.87 ms |
| UNet x 50  |   3005.98 ms |
|    VAE     |     92.05 ms |
|------------|--------------|
|  Pipeline  |       3.12 s |
|------------|--------------|
Saving image 1 / 4 to: ./output/sd-fp16-a_beautifu-1-8141.png
Saving image 2 / 4 to: ./output/sd-fp16-a_beautifu-2-3299.png
Saving image 3 / 4 to: ./output/sd-fp16-a_beautifu-3-2097.png
Saving image 4 / 4 to: ./output/sd-fp16-a_beautifu-4-6422.png
GPU memory usage: before=[{'device_id': 0, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 18785.875}, {'device_id': 1, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 590.5}, {'device_id': 2, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 590.5}, {'device_id': 3, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 590.5}, {'device_id': 4, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 590.5}, {'device_id': 5, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 590.5}, {'device_id': 6, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 590.5}, {'device_id': 7, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 590.5}]  peak=[{'device_id': 0, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 18785.875}, {'device_id': 1, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 590.5}, {'device_id': 2, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 590.5}, {'device_id': 3, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 590.5}, {'device_id': 4, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 590.5}, {'device_id': 5, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 590.5}, {'device_id': 6, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 590.5}, {'device_id': 7, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 590.5}]
Measured memory usage.

Batch size = 8

Measuring latency.
  0%|          | 0/50 [00:00<?, ?it/s]  2%|â–         | 1/50 [00:00<00:05,  8.39it/s]  4%|â–         | 2/50 [00:00<00:05,  8.41it/s]  6%|â–Œ         | 3/50 [00:00<00:05,  8.41it/s]  8%|â–Š         | 4/50 [00:00<00:05,  8.40it/s] 10%|â–ˆ         | 5/50 [00:00<00:05,  8.43it/s] 12%|â–ˆâ–        | 6/50 [00:00<00:05,  8.43it/s] 14%|â–ˆâ–        | 7/50 [00:00<00:05,  8.45it/s] 16%|â–ˆâ–Œ        | 8/50 [00:00<00:04,  8.45it/s] 18%|â–ˆâ–Š        | 9/50 [00:01<00:04,  8.45it/s] 20%|â–ˆâ–ˆ        | 10/50 [00:01<00:04,  8.45it/s] 22%|â–ˆâ–ˆâ–       | 11/50 [00:01<00:04,  8.43it/s] 24%|â–ˆâ–ˆâ–       | 12/50 [00:01<00:04,  8.43it/s] 26%|â–ˆâ–ˆâ–Œ       | 13/50 [00:01<00:04,  8.43it/s] 28%|â–ˆâ–ˆâ–Š       | 14/50 [00:01<00:04,  8.43it/s] 30%|â–ˆâ–ˆâ–ˆ       | 15/50 [00:01<00:04,  8.43it/s] 32%|â–ˆâ–ˆâ–ˆâ–      | 16/50 [00:01<00:04,  8.44it/s] 34%|â–ˆâ–ˆâ–ˆâ–      | 17/50 [00:02<00:03,  8.43it/s] 36%|â–ˆâ–ˆâ–ˆâ–Œ      | 18/50 [00:02<00:03,  8.43it/s] 38%|â–ˆâ–ˆâ–ˆâ–Š      | 19/50 [00:02<00:03,  8.43it/s] 40%|â–ˆâ–ˆâ–ˆâ–ˆ      | 20/50 [00:02<00:03,  8.43it/s] 42%|â–ˆâ–ˆâ–ˆâ–ˆâ–     | 21/50 [00:02<00:03,  8.44it/s] 44%|â–ˆâ–ˆâ–ˆâ–ˆâ–     | 22/50 [00:02<00:03,  8.44it/s] 46%|â–ˆâ–ˆâ–ˆâ–ˆâ–Œ     | 23/50 [00:02<00:03,  8.43it/s] 48%|â–ˆâ–ˆâ–ˆâ–ˆâ–Š     | 24/50 [00:02<00:03,  8.43it/s] 50%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     | 25/50 [00:02<00:02,  8.43it/s] 52%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–    | 26/50 [00:03<00:02,  8.43it/s] 54%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–    | 27/50 [00:03<00:02,  8.43it/s] 56%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ    | 28/50 [00:03<00:02,  8.43it/s] 58%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Š    | 29/50 [00:03<00:02,  8.43it/s] 60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 30/50 [00:03<00:02,  8.43it/s] 62%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–   | 31/50 [00:03<00:02,  8.44it/s] 64%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–   | 32/50 [00:03<00:02,  8.43it/s] 66%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ   | 33/50 [00:03<00:02,  8.43it/s] 68%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Š   | 34/50 [00:04<00:01,  8.42it/s] 70%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   | 35/50 [00:04<00:01,  8.42it/s] 72%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–  | 36/50 [00:04<00:01,  8.42it/s] 74%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–  | 37/50 [00:04<00:01,  8.42it/s] 76%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ  | 38/50 [00:04<00:01,  8.43it/s] 78%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Š  | 39/50 [00:04<00:01,  8.42it/s] 80%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  | 40/50 [00:04<00:01,  8.43it/s] 82%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ– | 41/50 [00:04<00:01,  8.43it/s] 84%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ– | 42/50 [00:04<00:00,  8.44it/s] 86%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ | 43/50 [00:05<00:00,  8.44it/s] 88%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Š | 44/50 [00:05<00:00,  8.42it/s] 90%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ | 45/50 [00:05<00:00,  8.42it/s] 92%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–| 46/50 [00:05<00:00,  8.43it/s] 94%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–| 47/50 [00:05<00:00,  8.42it/s] 96%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ| 48/50 [00:05<00:00,  8.43it/s] 98%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Š| 49/50 [00:05<00:00,  8.43it/s]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 50/50 [00:05<00:00,  8.42it/s]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 50/50 [00:05<00:00,  8.43it/s]
|------------|--------------|
|   Module   |   Latency    |
|------------|--------------|
|    CLIP    |    115.44 ms |
| UNet x 50  |   5932.45 ms |
|    VAE     |    191.16 ms |
|------------|--------------|
|  Pipeline  |       6.24 s |
|------------|--------------|
Saving image 1 / 8 to: ./output/sd-fp16-a_beautifu-1-7764.png
Saving image 2 / 8 to: ./output/sd-fp16-a_beautifu-2-5008.png
Saving image 3 / 8 to: ./output/sd-fp16-a_beautifu-3-5536.png
Saving image 4 / 8 to: ./output/sd-fp16-a_beautifu-4-6159.png
Saving image 5 / 8 to: ./output/sd-fp16-a_beautifu-5-3727.png
Saving image 6 / 8 to: ./output/sd-fp16-a_beautifu-6-2009.png
Saving image 7 / 8 to: ./output/sd-fp16-a_beautifu-7-4434.png
Saving image 8 / 8 to: ./output/sd-fp16-a_beautifu-8-5275.png
Measuring memory usage. Ignore any latency metrics or any images saved.
  0%|          | 0/50 [00:00<?, ?it/s]  2%|â–         | 1/50 [00:00<00:05,  8.51it/s]  4%|â–         | 2/50 [00:00<00:05,  8.53it/s]  6%|â–Œ         | 3/50 [00:00<00:05,  8.51it/s]  8%|â–Š         | 4/50 [00:00<00:05,  8.50it/s] 10%|â–ˆ         | 5/50 [00:00<00:05,  8.48it/s] 12%|â–ˆâ–        | 6/50 [00:00<00:05,  8.46it/s] 14%|â–ˆâ–        | 7/50 [00:00<00:05,  8.45it/s] 16%|â–ˆâ–Œ        | 8/50 [00:00<00:04,  8.44it/s] 18%|â–ˆâ–Š        | 9/50 [00:01<00:04,  8.44it/s] 20%|â–ˆâ–ˆ        | 10/50 [00:01<00:04,  8.44it/s] 22%|â–ˆâ–ˆâ–       | 11/50 [00:01<00:04,  8.45it/s] 24%|â–ˆâ–ˆâ–       | 12/50 [00:01<00:04,  8.45it/s] 26%|â–ˆâ–ˆâ–Œ       | 13/50 [00:01<00:04,  8.44it/s] 28%|â–ˆâ–ˆâ–Š       | 14/50 [00:01<00:04,  8.45it/s] 30%|â–ˆâ–ˆâ–ˆ       | 15/50 [00:01<00:04,  8.44it/s] 32%|â–ˆâ–ˆâ–ˆâ–      | 16/50 [00:01<00:04,  8.44it/s] 34%|â–ˆâ–ˆâ–ˆâ–      | 17/50 [00:02<00:03,  8.43it/s] 36%|â–ˆâ–ˆâ–ˆâ–Œ      | 18/50 [00:02<00:03,  8.44it/s] 38%|â–ˆâ–ˆâ–ˆâ–Š      | 19/50 [00:02<00:03,  8.43it/s] 40%|â–ˆâ–ˆâ–ˆâ–ˆ      | 20/50 [00:02<00:03,  8.44it/s] 42%|â–ˆâ–ˆâ–ˆâ–ˆâ–     | 21/50 [00:02<00:03,  8.44it/s] 44%|â–ˆâ–ˆâ–ˆâ–ˆâ–     | 22/50 [00:02<00:03,  8.43it/s] 46%|â–ˆâ–ˆâ–ˆâ–ˆâ–Œ     | 23/50 [00:02<00:03,  8.43it/s] 48%|â–ˆâ–ˆâ–ˆâ–ˆâ–Š     | 24/50 [00:02<00:03,  8.44it/s] 50%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     | 25/50 [00:02<00:02,  8.43it/s] 52%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–    | 26/50 [00:03<00:02,  8.43it/s] 54%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–    | 27/50 [00:03<00:02,  8.44it/s] 56%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ    | 28/50 [00:03<00:02,  8.43it/s] 58%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Š    | 29/50 [00:03<00:02,  8.42it/s] 60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 30/50 [00:03<00:02,  8.43it/s] 62%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–   | 31/50 [00:03<00:02,  8.43it/s] 64%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–   | 32/50 [00:03<00:02,  8.43it/s] 66%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ   | 33/50 [00:03<00:02,  8.43it/s] 68%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Š   | 34/50 [00:04<00:01,  8.43it/s] 70%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   | 35/50 [00:04<00:01,  8.42it/s] 72%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–  | 36/50 [00:04<00:01,  8.43it/s] 74%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–  | 37/50 [00:04<00:01,  8.42it/s] 76%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ  | 38/50 [00:04<00:01,  8.43it/s] 78%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Š  | 39/50 [00:04<00:01,  8.43it/s] 80%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  | 40/50 [00:04<00:01,  8.43it/s] 82%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ– | 41/50 [00:04<00:01,  8.42it/s] 84%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ– | 42/50 [00:04<00:00,  8.42it/s] 86%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ | 43/50 [00:05<00:00,  8.41it/s] 88%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Š | 44/50 [00:05<00:00,  8.41it/s] 90%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ | 45/50 [00:05<00:00,  8.42it/s] 92%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–| 46/50 [00:05<00:00,  8.42it/s] 94%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–| 47/50 [00:05<00:00,  8.43it/s] 96%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ| 48/50 [00:05<00:00,  8.43it/s] 98%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Š| 49/50 [00:05<00:00,  8.43it/s]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 50/50 [00:05<00:00,  8.42it/s]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 50/50 [00:05<00:00,  8.44it/s]
|------------|--------------|
|   Module   |   Latency    |
|------------|--------------|
|    CLIP    |     32.18 ms |
| UNet x 50  |   5927.72 ms |
|    VAE     |    178.24 ms |
|------------|--------------|
|  Pipeline  |       6.14 s |
|------------|--------------|
Saving image 1 / 8 to: ./output/sd-fp16-a_beautifu-1-5055.png
Saving image 2 / 8 to: ./output/sd-fp16-a_beautifu-2-6674.png
Saving image 3 / 8 to: ./output/sd-fp16-a_beautifu-3-7700.png
Saving image 4 / 8 to: ./output/sd-fp16-a_beautifu-4-7241.png
Saving image 5 / 8 to: ./output/sd-fp16-a_beautifu-5-5815.png
Saving image 6 / 8 to: ./output/sd-fp16-a_beautifu-6-2247.png
Saving image 7 / 8 to: ./output/sd-fp16-a_beautifu-7-9040.png
Saving image 8 / 8 to: ./output/sd-fp16-a_beautifu-8-4873.png
GPU memory usage: before=[{'device_id': 0, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 18809.875}, {'device_id': 1, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 590.5}, {'device_id': 2, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 590.5}, {'device_id': 3, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 590.5}, {'device_id': 4, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 590.5}, {'device_id': 5, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 590.5}, {'device_id': 6, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 590.5}, {'device_id': 7, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 590.5}]  peak=[{'device_id': 0, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 18809.875}, {'device_id': 1, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 590.5}, {'device_id': 2, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 590.5}, {'device_id': 3, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 590.5}, {'device_id': 4, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 590.5}, {'device_id': 5, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 590.5}, {'device_id': 6, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 590.5}, {'device_id': 7, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 590.5}]
Measured memory usage.

Batch size = 16

Measuring latency.
  0%|          | 0/50 [00:00<?, ?it/s]  2%|â–         | 1/50 [00:00<00:11,  4.09it/s]  4%|â–         | 2/50 [00:00<00:11,  4.10it/s]  6%|â–Œ         | 3/50 [00:00<00:11,  4.11it/s]  8%|â–Š         | 4/50 [00:00<00:11,  4.12it/s] 10%|â–ˆ         | 5/50 [00:01<00:10,  4.12it/s] 12%|â–ˆâ–        | 6/50 [00:01<00:10,  4.12it/s] 14%|â–ˆâ–        | 7/50 [00:01<00:10,  4.12it/s] 16%|â–ˆâ–Œ        | 8/50 [00:01<00:10,  4.12it/s] 18%|â–ˆâ–Š        | 9/50 [00:02<00:09,  4.12it/s] 20%|â–ˆâ–ˆ        | 10/50 [00:02<00:09,  4.12it/s] 22%|â–ˆâ–ˆâ–       | 11/50 [00:02<00:09,  4.12it/s] 24%|â–ˆâ–ˆâ–       | 12/50 [00:02<00:09,  4.12it/s] 26%|â–ˆâ–ˆâ–Œ       | 13/50 [00:03<00:08,  4.12it/s] 28%|â–ˆâ–ˆâ–Š       | 14/50 [00:03<00:08,  4.12it/s] 30%|â–ˆâ–ˆâ–ˆ       | 15/50 [00:03<00:08,  4.12it/s] 32%|â–ˆâ–ˆâ–ˆâ–      | 16/50 [00:03<00:08,  4.12it/s] 34%|â–ˆâ–ˆâ–ˆâ–      | 17/50 [00:04<00:08,  4.12it/s] 36%|â–ˆâ–ˆâ–ˆâ–Œ      | 18/50 [00:04<00:07,  4.12it/s] 38%|â–ˆâ–ˆâ–ˆâ–Š      | 19/50 [00:04<00:07,  4.12it/s] 40%|â–ˆâ–ˆâ–ˆâ–ˆ      | 20/50 [00:04<00:07,  4.12it/s] 42%|â–ˆâ–ˆâ–ˆâ–ˆâ–     | 21/50 [00:05<00:07,  4.12it/s] 44%|â–ˆâ–ˆâ–ˆâ–ˆâ–     | 22/50 [00:05<00:06,  4.12it/s] 46%|â–ˆâ–ˆâ–ˆâ–ˆâ–Œ     | 23/50 [00:05<00:06,  4.12it/s] 48%|â–ˆâ–ˆâ–ˆâ–ˆâ–Š     | 24/50 [00:05<00:06,  4.12it/s] 50%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     | 25/50 [00:06<00:06,  4.12it/s] 52%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–    | 26/50 [00:06<00:05,  4.11it/s] 54%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–    | 27/50 [00:06<00:05,  4.11it/s] 56%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ    | 28/50 [00:06<00:05,  4.11it/s] 58%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Š    | 29/50 [00:07<00:05,  4.11it/s] 60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 30/50 [00:07<00:04,  4.12it/s] 62%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–   | 31/50 [00:07<00:04,  4.12it/s] 64%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–   | 32/50 [00:07<00:04,  4.12it/s] 66%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ   | 33/50 [00:08<00:04,  4.12it/s] 68%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Š   | 34/50 [00:08<00:03,  4.12it/s] 70%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   | 35/50 [00:08<00:03,  4.12it/s] 72%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–  | 36/50 [00:08<00:03,  4.12it/s] 74%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–  | 37/50 [00:08<00:03,  4.11it/s] 76%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ  | 38/50 [00:09<00:02,  4.11it/s] 78%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Š  | 39/50 [00:09<00:02,  4.11it/s] 80%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  | 40/50 [00:09<00:02,  4.12it/s] 82%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ– | 41/50 [00:09<00:02,  4.11it/s] 84%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ– | 42/50 [00:10<00:01,  4.11it/s] 86%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ | 43/50 [00:10<00:01,  4.11it/s] 88%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Š | 44/50 [00:10<00:01,  4.11it/s] 90%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ | 45/50 [00:10<00:01,  4.11it/s] 92%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–| 46/50 [00:11<00:00,  4.11it/s] 94%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–| 47/50 [00:11<00:00,  4.11it/s] 96%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ| 48/50 [00:11<00:00,  4.12it/s] 98%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Š| 49/50 [00:11<00:00,  4.12it/s]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 50/50 [00:12<00:00,  4.12it/s]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 50/50 [00:12<00:00,  4.12it/s]
|------------|--------------|
|   Module   |   Latency    |
|------------|--------------|
|    CLIP    |    125.19 ms |
| UNet x 50  |  12147.77 ms |
|    VAE     |    360.43 ms |
|------------|--------------|
|  Pipeline  |      12.63 s |
|------------|--------------|
Saving image 1 / 16 to: ./output/sd-fp16-a_beautifu-1-9719.png
Saving image 2 / 16 to: ./output/sd-fp16-a_beautifu-2-7948.png
Saving image 3 / 16 to: ./output/sd-fp16-a_beautifu-3-4587.png
Saving image 4 / 16 to: ./output/sd-fp16-a_beautifu-4-2521.png
Saving image 5 / 16 to: ./output/sd-fp16-a_beautifu-5-4542.png
Saving image 6 / 16 to: ./output/sd-fp16-a_beautifu-6-6669.png
Saving image 7 / 16 to: ./output/sd-fp16-a_beautifu-7-1844.png
Saving image 8 / 16 to: ./output/sd-fp16-a_beautifu-8-2242.png
Saving image 9 / 16 to: ./output/sd-fp16-a_beautifu-9-8200.png
Saving image 10 / 16 to: ./output/sd-fp16-a_beautifu-10-5387.png
Saving image 11 / 16 to: ./output/sd-fp16-a_beautifu-11-9052.png
Saving image 12 / 16 to: ./output/sd-fp16-a_beautifu-12-6916.png
Saving image 13 / 16 to: ./output/sd-fp16-a_beautifu-13-9743.png
Saving image 14 / 16 to: ./output/sd-fp16-a_beautifu-14-2541.png
Saving image 15 / 16 to: ./output/sd-fp16-a_beautifu-15-3683.png
Saving image 16 / 16 to: ./output/sd-fp16-a_beautifu-16-2233.png
Measuring memory usage. Ignore any latency metrics or any images saved.
  0%|          | 0/50 [00:00<?, ?it/s]  2%|â–         | 1/50 [00:00<00:11,  4.12it/s]  4%|â–         | 2/50 [00:00<00:11,  4.13it/s]  6%|â–Œ         | 3/50 [00:00<00:11,  4.13it/s]  8%|â–Š         | 4/50 [00:00<00:11,  4.13it/s] 10%|â–ˆ         | 5/50 [00:01<00:10,  4.12it/s] 12%|â–ˆâ–        | 6/50 [00:01<00:10,  4.12it/s] 14%|â–ˆâ–        | 7/50 [00:01<00:10,  4.12it/s] 16%|â–ˆâ–Œ        | 8/50 [00:01<00:10,  4.12it/s] 18%|â–ˆâ–Š        | 9/50 [00:02<00:09,  4.12it/s] 20%|â–ˆâ–ˆ        | 10/50 [00:02<00:09,  4.12it/s] 22%|â–ˆâ–ˆâ–       | 11/50 [00:02<00:09,  4.12it/s] 24%|â–ˆâ–ˆâ–       | 12/50 [00:02<00:09,  4.12it/s] 26%|â–ˆâ–ˆâ–Œ       | 13/50 [00:03<00:08,  4.12it/s] 28%|â–ˆâ–ˆâ–Š       | 14/50 [00:03<00:08,  4.12it/s] 30%|â–ˆâ–ˆâ–ˆ       | 15/50 [00:03<00:08,  4.12it/s] 32%|â–ˆâ–ˆâ–ˆâ–      | 16/50 [00:03<00:08,  4.11it/s] 34%|â–ˆâ–ˆâ–ˆâ–      | 17/50 [00:04<00:08,  4.11it/s] 36%|â–ˆâ–ˆâ–ˆâ–Œ      | 18/50 [00:04<00:07,  4.11it/s] 38%|â–ˆâ–ˆâ–ˆâ–Š      | 19/50 [00:04<00:07,  4.12it/s] 40%|â–ˆâ–ˆâ–ˆâ–ˆ      | 20/50 [00:04<00:07,  4.12it/s] 42%|â–ˆâ–ˆâ–ˆâ–ˆâ–     | 21/50 [00:05<00:07,  4.12it/s] 44%|â–ˆâ–ˆâ–ˆâ–ˆâ–     | 22/50 [00:05<00:06,  4.11it/s] 46%|â–ˆâ–ˆâ–ˆâ–ˆâ–Œ     | 23/50 [00:05<00:06,  4.11it/s] 48%|â–ˆâ–ˆâ–ˆâ–ˆâ–Š     | 24/50 [00:05<00:06,  4.11it/s] 50%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     | 25/50 [00:06<00:06,  4.11it/s] 52%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–    | 26/50 [00:06<00:05,  4.11it/s] 54%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–    | 27/50 [00:06<00:05,  4.12it/s] 56%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ    | 28/50 [00:06<00:05,  4.11it/s] 58%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Š    | 29/50 [00:07<00:05,  4.11it/s] 60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 30/50 [00:07<00:04,  4.11it/s] 62%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–   | 31/50 [00:07<00:04,  4.11it/s] 64%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–   | 32/50 [00:07<00:04,  4.11it/s] 66%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ   | 33/50 [00:08<00:04,  4.12it/s] 68%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Š   | 34/50 [00:08<00:03,  4.11it/s] 70%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   | 35/50 [00:08<00:03,  4.11it/s] 72%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–  | 36/50 [00:08<00:03,  4.11it/s] 74%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–  | 37/50 [00:08<00:03,  4.11it/s] 76%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ  | 38/50 [00:09<00:02,  4.11it/s] 78%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Š  | 39/50 [00:09<00:02,  4.11it/s] 80%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  | 40/50 [00:09<00:02,  4.11it/s] 82%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ– | 41/50 [00:09<00:02,  4.11it/s] 84%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ– | 42/50 [00:10<00:01,  4.11it/s] 86%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ | 43/50 [00:10<00:01,  4.11it/s] 88%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Š | 44/50 [00:10<00:01,  4.11it/s] 90%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ | 45/50 [00:10<00:01,  4.11it/s] 92%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–| 46/50 [00:11<00:00,  4.11it/s] 94%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–| 47/50 [00:11<00:00,  4.11it/s] 96%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ| 48/50 [00:11<00:00,  4.11it/s] 98%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Š| 49/50 [00:11<00:00,  4.11it/s]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 50/50 [00:12<00:00,  4.10it/s]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 50/50 [00:12<00:00,  4.11it/s]
|------------|--------------|
|   Module   |   Latency    |
|------------|--------------|
|    CLIP    |     45.09 ms |
| UNet x 50  |  12154.57 ms |
|    VAE     |    349.54 ms |
|------------|--------------|
|  Pipeline  |      12.55 s |
|------------|--------------|
Saving image 1 / 16 to: ./output/sd-fp16-a_beautifu-1-5020.png
Saving image 2 / 16 to: ./output/sd-fp16-a_beautifu-2-1226.png
Saving image 3 / 16 to: ./output/sd-fp16-a_beautifu-3-4223.png
Saving image 4 / 16 to: ./output/sd-fp16-a_beautifu-4-1845.png
Saving image 5 / 16 to: ./output/sd-fp16-a_beautifu-5-9811.png
Saving image 6 / 16 to: ./output/sd-fp16-a_beautifu-6-6305.png
Saving image 7 / 16 to: ./output/sd-fp16-a_beautifu-7-1465.png
Saving image 8 / 16 to: ./output/sd-fp16-a_beautifu-8-9617.png
Saving image 9 / 16 to: ./output/sd-fp16-a_beautifu-9-8846.png
Saving image 10 / 16 to: ./output/sd-fp16-a_beautifu-10-3793.png
Saving image 11 / 16 to: ./output/sd-fp16-a_beautifu-11-3679.png
Saving image 12 / 16 to: ./output/sd-fp16-a_beautifu-12-7686.png
Saving image 13 / 16 to: ./output/sd-fp16-a_beautifu-13-3965.png
Saving image 14 / 16 to: ./output/sd-fp16-a_beautifu-14-6520.png
Saving image 15 / 16 to: ./output/sd-fp16-a_beautifu-15-6714.png
Saving image 16 / 16 to: ./output/sd-fp16-a_beautifu-16-8406.png
GPU memory usage: before=[{'device_id': 0, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 18881.875}, {'device_id': 1, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 590.5}, {'device_id': 2, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 590.5}, {'device_id': 3, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 590.5}, {'device_id': 4, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 590.5}, {'device_id': 5, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 590.5}, {'device_id': 6, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 590.5}, {'device_id': 7, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 590.5}]  peak=[{'device_id': 0, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 18881.875}, {'device_id': 1, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 590.5}, {'device_id': 2, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 590.5}, {'device_id': 3, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 590.5}, {'device_id': 4, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 590.5}, {'device_id': 5, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 590.5}, {'device_id': 6, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 590.5}, {'device_id': 7, 'name': 'NVIDIA A100-SXM4-40GB', 'max_used_MB': 590.5}]
Measured memory usage.
